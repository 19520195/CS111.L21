CMAKE_MINIMUM_REQUIRED(VERSION 3.10)

SET(BB_NAME BB)
SET(BB_SOURCE src)

# Set the project name and version
PROJECT(${BB_NAME} VERSION 0.1)

# Specify the C++ standard
SET(CMAKE_CXX_STANDARD 11)
SET(CMAKE_CXX_STANDARD_REQUIRED TRUE)

# Libraries
INCLUDE_DIRECTORIES(${BB_SOURCE})
FILE(GLOB BB_LEXER_FILES "${BB_SOURCE}/lexer/*.cc")
FILE(GLOB BB_PARSER_FILES "${BB_SOURCE}/parser/*.cc")
FILE(GLOB BB_INTERPRETER_FILES "${BB_SOURCE}/interpreter/*.cc")

ADD_LIBRARY(BB_LEXER ${BB_LEXER_FILES})
ADD_LIBRARY(BB_PARSER ${BB_PARSER_FILES})
ADD_LIBRARY(BB_INTERPRETER ${BB_INTERPRETER_FILES})
ADD_EXECUTABLE(${BB_NAME} ${BB_SOURCE}/master.cc)

# Linking
TARGET_LINK_LIBRARIES(BB_PARSER BB_LEXER)
TARGET_LINK_LIBRARIES(BB_INTERPRETER BB_PARSER)
TARGET_LINK_LIBRARIES(${BB_NAME} BB_INTERPRETER)
