CMAKE_MINIMUM_REQUIRED(VERSION 3.10)

SET(BB_NAME Barebone)
SET(BB_SOURCE Source)

# Set the project name and version
PROJECT(${BB_NAME} VERSION 0.1)

# Specify the C++ standard
SET(CMAKE_CXX_STANDARD 17)
SET(CMAKE_CXX_STANDARD_REQUIRED TRUE)

# Libraries
INCLUDE_DIRECTORIES(${BB_SOURCE})

FILE(GLOB BB_LEXER_FILES  "${BB_SOURCE}/Lexer/*.cc" )
FILE(GLOB BB_PARSER_FILES "${BB_SOURCE}/Parser/*.cc")
FILE(GLOB BB_INTERP_FILES "${BB_SOURCE}/Interp/*.cc")

ADD_LIBRARY(BB_LEXER  ${BB_LEXER_FILES} )
ADD_LIBRARY(BB_INTERP ${BB_INTERP_FILES})
ADD_LIBRARY(BB_PARSER ${BB_PARSER_FILES})

ADD_EXECUTABLE(${BB_NAME} ${BB_SOURCE}/Master.cc)
TARGET_LINK_LIBRARIES(BB_PARSER BB_LEXER)
TARGET_LINK_LIBRARIES(BB_INTERP BB_PARSER)
TARGET_LINK_LIBRARIES(${BB_NAME} BB_LEXER BB_PARSER BB_INTERP)
